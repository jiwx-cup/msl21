Make the shared event handling more robust.
Integrate fast nearest neighbor searching into some planners.


